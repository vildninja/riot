<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="three.min.js"></script>
		<script src="js/loaders/OBJLoader.js"></script>
		<script src="world.js"></script>
		<script>

			var animate = function () {
				requestAnimationFrame( animate );


				renderer.render( scene, camera );
				
				if (filesLoaded)
				{
					Update();
					document.getElementById("infotext").innerHTML = tick;
				}
			}
			animate();

			function Move(e, x, y)
			{
				SendMessage("goto", new THREE.Vector2(x, y));
				//PushTickEvent(tick + 2, new TickEvent(e, new THREE.Vector2(x.toFixed(1), y.toFixed(1)), tick + 6));
			}

		</script>
		<p id="infotext">Text</p>
		<p>
			<a href="#" onclick="Move(2, -1.0, 0.0)">left</a>
			<a href="#" onclick="Move(2, 1.0, 0.0)">right</a>
			<a href="#" onclick="Move(2, 0.0, 1.0)">up</a>
			<a href="#" onclick="Move(2, 0.0, -1.0)">down</a>
			<a href="#" onclick="SendMessage('ping', {})">PING</a>
		</p>
	</body>
</html>